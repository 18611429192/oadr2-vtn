@(eventsList: List[EiEventForm], eventForm: EiEventForm)

@import helper._

@import helper.twitterBootstrap._

@main(Html("Events"), "Events") {

		@if(flash.containsKey("success")) {
		        <div class="alert-message success">
		            <strong>Success: </strong> @flash.get("success")
		        </div>
		} 
		   
        <table class="zebra-striped">
            <thead>
                <tr>
                	<th>Event ID</th>
                	<th>Priority</th>
                	<th>Status</th>
                	<th>Start Time</th>
                	<th>Duration</th>
                	<th>Signal ID</th>
                	<th>Program</th>
                </tr>
            </thead>
            <tfoot>
            </tfoot>
            <tbody>            	
				@for(event <- eventsList){
					<tr>
						<td><a href="@routes.Events.editEvent(event.getEiEvent().getHjid())">@event.getEiEvent().getEventDescriptor().getEventID()</a></td>
						<td>@event.getEiEvent().getEventDescriptor().getPriority()</td>
						<td>@event.getEiEvent().getEventDescriptor().getEventStatus()</td>
						<td>@eventForm.displayReadableStart(event.getEiEvent().getEiActivePeriod().getProperties().getDtstart().getDateTime().toString())</td>
						<td>@eventForm.displayReadableDuration(event.getEiEvent().getEiActivePeriod().getProperties().getDuration().getDuration())</td>
						<td>@event.getEiEvent().getEiEventSignals().getEiEventSignal().get(0).getSignalID()</td>
						
						<td>
							@event.marketContext
						</td>		
						
						<td>
							@form(routes.Events.deleteEvent(event.getEiEvent().getHjid())){
								<input type="submit" value="Delete" class="btn danger">
							}
						</td>						
					</tr>
				}            	
            </tbody>
        </table>
}